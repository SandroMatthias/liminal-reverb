# General Information

### Title

*Liminal Space Reverb*

### Author

[Remes Sándor Mátyás](https://github.com/SandroMatthias)

### Date of Creation

2025/12/21

### Description

This project implements a digital reverb guitar pedal using the Daisy Seed embedded platform. It includes all the needed functionalities such as filters, utilities, FDN algorithms and theory guides. The project is developed as a presonal learning exercise to explore the fundamentals of real-time audio DSP on embedded hardware.

https://github.com/user-attachments/assets/a3d1d6ec-14c1-4927-8a66-94da8daa63ae

# Table of Contents

- [Modules](#modules)
    - [Filters](#filters-module)
    - [Effects](#effects-module)
    - [Utilities](#utilities-module)
- [Dependencies](#dependencies)
- [Build](#build)
- [Flash](#flash)
- [Project status](#project-status)


# Repository folder structure

    reverb/build/       -> build files (.d, .lst, .o) generated by the reverb/Makefile
    reverb/include      -> header file (contains the needed constants)
    reverb/docs         -> theoretical background, design notes
    reverb/effects      -> DSP effect implementations
    reverb/filters      -> DSP filter implementations
    reverb/schematic    -> KiCad project (circuit and PCB -> based on the ElectroSmith Terrarium PCB)
    reverb/util         -> helper classes

    libDaisy/           -> hardware support library for the Electrosmith Daisy platform
    DaisySP/            -> open-source DSP library

# Modules

## Filters Module

This module contains the digital filter implementations used in the audio signal chain.

### Implemented filters

- Allpass filter (Schroeder-type)
- High-pass filter (one-pole)
- Low-pass filter (one-pole)

### Design Notes

For theoretical background, see [filters](./reverb/docs/filter_theory.md).

## Effects Module

This module contains the digital effect implementations used in the audio signal chain.

### Implemented effects

- Feedback Delay Network (Hadamard, Householder) for reverberation

### Design Notes

For theoretical background, see [effects](./reverb/docs/effect_theory.md).

## Utilities Module

This module contains the utilities, including hardware-related helpers and software utilities.

# Dependencies

If you are using windows, you will need Zadiq DFU (Device Firmware Update) to flash the program.

Check section 3c.:
[Daisy Seed Getting started](https://daisy.audio/tutorials/cpp-dev-env/#3c-more-setup-windows-only)

# Build

To run the pedal firmware, DaisySP, libDaisy, and the reverb source files must be built. 

### DaisySP

`cd DaisySP/`

`make`

At the terminal you should see the following, after a succesfull build: **Building DaisySP-LGLP**

### libDaisy

`cd libDaisy/`

`make`

At the terminal you should see the following, after a succesfull build:
**creating build/libdaisy.a**

### Reverb source files

`cd reverb/`

`make`

At the terminal you should see the following, after a succesfull build:

The memory map and **arm-none-eabi-objcopy -O binary -S build/liminal_reverb.elf build/liminal_reverb.bin**

# Flash

Put Daisy to flashable mode (holding the BOOT button, and pressing the RESET button).

From the reverb folder:

`cd build/`

`dfu-util -a 0 -s 0x08000000:leave -D liminal_reverb.bin`

 -a 0 -> DFU alternate setting, DFU devices can expose multiple memory targets. On STM32 alt 0 maps the internal flash memory.

 -s 0x08000000:leave -> flash memory address

 -D reverb.bin -> writes the binary to the memory.

# Project status

`Active/In development`
